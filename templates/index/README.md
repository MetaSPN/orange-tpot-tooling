# Creator index

This repo aggregates metadata for creator repos. Use it to track updates and build composable follow lists.

- **creators/manifest.json** — List of creator repos with displayName, blogUrl, followUrl, lastUpdated, postCount. Regenerated by the update workflow.
- **creators/repos.json** — Config: list of creator repo URLs (or paths) to include. Edit this to add/remove creators; the workflow reads it to refresh the manifest.
- **subrepos/** — Creator repos (scaffolded locally or added as git submodules). If you used **bootstrap-index** from orange-tpot, all creators were created here; filter by editing `creators/repos.json` or removing `subrepos/<slug>` you don’t want.

## Sync all creator repos

From the index repo root, run sync (blog-toolkit pull + ingest) in every creator under `subrepos/`:

```bash
bun run sync-all
```

- Uses current state: ingest dedupes by URL so re-runs don’t re-download existing posts.
- Failed repos are retried once by default; all failures are listed at the end and written to `sync-failures.txt`.
- Options (pass after `--`): `--delay <sec>` (default 3, delay between repos to reduce rate limiting), `--retries <n>` (default 2 = initial + 1 retry). Example: `bun run sync-all -- --delay 5 --retries 3`.

Each creator repo needs [uv](https://github.com/astral-sh/uv) for `uvx blog-toolkit pull`. Then run `bun run update-manifest` to refresh `creators/manifest.json`.

## Template updates

This repo is built from the [orange-tpot](https://github.com/metaspn/orange-tpot-tooling) template. The version is in `.orange-tpot-version`. To pull in template changes (workflows, scripts, etc.) without touching `creators/repos.json` or `subrepos/`:

```bash
bunx github:metaspn/orange-tpot-tooling update
```

A GitHub Action runs **Update from template** weekly and on manual trigger.

## Update workflow

The GitHub Action runs on a schedule and on manual trigger. It:

1. If using submodules: runs `git submodule update --remote` (or equivalent).
2. For each repo in `creators/repos.json`, fetches `creator.json` (and optionally metadata) and aggregates into `creators/manifest.json`.
3. Commits and pushes if the manifest changed.

## Composable follow lists

You can filter `manifest.json` by adding a `tags` or `lists` array per creator (e.g. in repos.json or in each creator's creator.json) so other tools can build "follow list X" from the manifest.
